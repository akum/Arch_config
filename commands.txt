# Disable motherboard speaker
echo "blacklist pcspkr"| sudo tee -a /etc/modprobe.d/nobeep.conf
sudo rmmod pcspkr

# enable disable nano wrap
sudo sed -i '/^#.*set nowrap/s/^#//' /etc/nanorc

# Install packer
eval {mkdir,cd}\ packer\;
curl -o PKGBUILD https://aur.archlinux.org/cgit/aur.git/plain/PKGBUILD?h=packer
makepkg -i -s
cd
rm -rf packer/

# Enable infinality and multilib
sudo pacman-key -r 962DDE58
sudo pacman-key --lsign-key 962DDE58

sed -i -e'/^#\[multilib\]/{s/#//;N;s/#//;N;s/#//}' /etc/pacman.conf

sudo sh -c "cat >> /etc/pacman.conf" <<EOT

[infinality-bundle]
Server = http://bohoomil.com/repo/$arch

[infinality-bundle-multilib]
Server = http://bohoomil.com/repo/multilib/$arch
EOT

# Install packages
git clone https://github.com/akum/Arch_config.git
packer -Sy $(cat Arch_config/package_list.txt)
cp Arch_config/.Xresources ~/
cp -rf Arch_config/.config ~/
sudo cp -rf Arch_config/bin/* /usr/local/bin/
sudo cp -rf Arch_config/systemd/lock.service /etc/systemd/system/
sudo sytemctl enable lock.service

# font install
git clone https://github.com/supermarin/YosemiteSanFranciscoFont.git
sudo mkdir /usr/share/fonts/sanfrancisco
sudo cp YosemiteSanFranciscoFont/*.ttf /usr/share/fonts/sanfrancisco/
sudo cp -rf YosemiteSanFranciscoFont/Text\ Face\ \(alternate\)/ /usr/share/fonts/sanfrancisco/

# Install urxvt theme plugin
sudo wget https://raw.githubusercontent.com/felixr/urxvt-theme-switch/master/color-themes -O /usr/lib/urxvt/perl/color-themes

# color theme
git clone https://github.com/chriskempson/base16-xresources.git
git clone https://github.com/robloach/base16-geany
mkdir -p ~/.themes/urxvt/
cp base16-xresources/*dark.256*.x* .themes/urxvt/
cp base16-geany/*dark*.conf ~/.config/geany/colorschemes/

# fstab nfs mount
sudo mkdir /mnt/nas
sudo sh -c "cat >> /etc/fstab" <<EOT

//192.168.0.250/data /mnt/nas cifs noauto,x-systemd.automount,guest,sec=ntlm 0 0
EOT

# sudo rules
echo "%wheel ALL = NOPASSWD:/usr/local/bin/togglebluetooth.sh"| sudo tee -a /etc/sudoers.d/myOverrides

